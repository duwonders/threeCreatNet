"use strict";$(document).ready(function(){function t(){var t=$("#total-page").text(),e=$("#current-page").text(),n=$(".pager");if(t<5)for(var a=0;a<5;a++)t<a+1&&$(n[a]).css("display","none");else t>5&&(t>6&&e>3&&e<t-2&&($(n[1]).text("..."),$(n[2]).text(e),$(n[3]).text("...")),e<=3?$(n[3]).text("..."):t-e<=2&&($(n[1]).text("..."),$(n[2]).text(t-2),$(n[3]).text(t-1)),$(n[4]).text(t));n.map(function(t,n){var a=$(n);~~a.text()==~~e&&a.addClass("current")}),$(".page-outer-container").css("display","block")}function e(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null}function n(){var t=document.body.scrollTop;t>300?o.addClass("back-top-show"):o.removeClass("back-top-show"),o.css("left",c+"px")}var a=e("type")||"全部",i=e("state")||"最近";$(".left-bar").children().map(function(t,e){e.innerHTML==a&&$(e).addClass("current")}),$(".mid-bar").children().map(function(t,e){e.innerHTML==i&&$(e).addClass("current")}),t();var r=function(){var t={};return function(){var n=arguments.length<=0||void 0===arguments[0]?e("page"):arguments[0],a=arguments.length<=1||void 0===arguments[1]?e("type"):arguments[1],i=arguments.length<=2||void 0===arguments[2]?e("state"):arguments[2];t.type=a||"全部",t.page=n||1,t.state=i||"最近",window.location.href="/home/activity?type="+t.type+"&state="+t.state+"&page="+t.page}}();$(".top-page").bind("click",function(t){if(t=t||window.event,"a"==t.target.nodeName.toLowerCase()){t.preventDefault();var e=$(t.target).text().trim().slice(0,2);r(1,e)}}),$(".page-outer-container").bind("click",function(t){if(t=t||window.event,"pager"==t.target.className){var e=(t.target,~~$(t.target).text());e>0&&r(e)}}),$("#prev").bind("click",function(){var t=~~e("page"),n=t-1;1==t?alert("已经是第一页"):r(n)}),$("#next").bind("click",function(){var t=~~e("page"),n=~~$("#total-page").text(),a=t+1;t==n?alert("已经是最后一页"):r(a)}),$("#page-go").bind("click",function(){var t=~~$("#total-page").text(),e=~~$("#page-input").val();e>=1&&e<=t?r(e):alert("无效的页数")});var o=$("#back-top"),c=$("#header-row").offset().left+1050,l=$("#aside-nav");$(window).on("scroll",function(){n()}),o.on("click",function(){$("html, body").animate({scrollTop:"0px"},600)}),o.css("left",c+"px"),l.css("left",c-1150+"px");new Swiper(".swiper-container",{autoplay:2e3,speed:500,pagination:".swiper-pagination",paginationClickable:!0})}),function(){$(".left-bar").children().on("click",function(t){var e=t.target.innerHTML,n="";$(".mid-bar").children().map(function(t,e){$(e).hasClass("current")&&(n=e.innerHTML)}),window.location.href="/home/activity?type="+e+"&state="+n}),$(".mid-bar").children().on("click",function(t){var e=t.target.innerHTML,n="";$(".left-bar").children().map(function(t,e){$(e).hasClass("current")&&(n=e.innerHTML)}),window.location.href="/home/activity?type="+n+"&state="+e})}();